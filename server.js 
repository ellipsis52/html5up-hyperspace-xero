const express = require('express');
const app = express();
const auth0Callback = require('./routes/auth0-callback');

app.use('/callback', auth0Callback);

app.listen(3000, () => {
  console.log('ðŸŒ Backend listening on http://localhost:3000');
});
import express from 'express';
import dotenv from 'dotenv';
import cors from 'cors';

dotenv.config();
const app = express();
const PORT = process.env.PORT || 3000;

app.use(cors());
app.use(express.json());

// Endpoint pour gÃ©rer la redirection aprÃ¨s Auth0
app.get('/callback', (req, res) => {
  const { code } = req.query;
  if (code) {
    // Ici tu pourrais Ã©changer le code contre un token, valider, etc.
    // Pour lâ€™instant, redirection vers Stripe (ou tableau de bord)
    return res.redirect('https://dashboard.stripe.com');
  }
  res.status(400).send('Missing code parameter');
});

app.use(express.static('public')); // dossier contenant ton HTML, CSS, images

app.listen(PORT, () => {
  console.log(`Server listening on http://localhost:${PORT}`);
});
import express from 'express';
import cors from 'cors';
import dotenv from 'dotenv';

dotenv.config();

const app = express();
const PORT = process.env.PORT || 3000;

app.use(cors());
app.use(express.json());
app.use(express.static('public'));

app.get('/callback', (req, res) => {
  const { code } = req.query;
  if (code) {
    // Ici, tu pourrais ajouter le flow dâ€™Ã©change du code OAuth pour un token dâ€™accÃ¨s
    // Mais pour lâ€™instant, simple redirection poÃ©tique :
    return res.redirect('https://dashboard.stripe.com');
  }
  res.status(400).send('Missing authorization code.');
});

app.listen(PORT, () => {
  console.log(`âœ¨ Le serveur sâ€™Ã©lÃ¨ve sur le port ${PORT} â€” prÃªt Ã  recevoir le souffle des visiteurs.`);
});


// Endpoint pour gÃ©rer la redirection aprÃ¨s Auth0
app.get('/callback', (req, res) => {
  const { code } = req.query;
  if (code) {
    // Ici tu pourrais Ã©changer le code contre un token, valider, etc.
    // Pour lâ€™instant, redirection vers Stripe (ou tableau de bord)
    return res.redirect('https://dashboard.stripe.com');
  }
  res.status(400).send('Missing code parameter');
  });
  app.use(express.static('public')); // dossier contenant ton HTML, CSS, images
  app.listen(PORT, () => {
    console.log(`Server listening on http://localhost:${PORT}`);
  });
  import express from 'express';
  import cors from 'cors';
  import dotenv from 'dotenv';
  dotenv.config();
  
  const app = express();
  const PORT = process.env.PORT || 3000;
  
  app.use(cors());
  app.use(express.json());
  app.use(express.static('public'));
  
  app.get('/callback', (req, res) => {
    const { code } = req.query;
    if (code) {
      // Ici, tu pourrais ajouter le flow dâ€™Ã©change du code OAuth pour un token dâ€™accÃ¨s
      // Mais pour lâ€™instant, simple redirection poÃ©tique :
      return res.redirect('https://dashboard.stripe.com');
    }
    res.status(400).send('Missing authorization code.');
  });
  
  app.listen(PORT, () => {
    console.log(`âœ¨ Le serveur sâ€™Ã©lÃ¨ve sur le port ${PORT} â€” prÃªt Ã  recevoir le souffle des visiteurs.`);
  });
  import express from 'express';
  import cors from 'cors';
  import dotenv from 'dotenv';
  dotenv.config();
  
  const app = express();
  const PORT = process.env.PORT || 3000;
  
  app.use(cors());
  app.use(express.json());
  app.use(express.static('public'));
  
  app.get('/callback', (req, res) => {
    const { code } = req.query;
    if (code) {
      // Ici, tu pourrais ajouter le flow dâ€™Ã©change du code OAuth pour un token dâ€™accÃ¨s
      // Mais pour lâ€™instant, simple redirection poÃ©tique :
      return res.redirect('https://dashboard.stripe.com');
    }
    res.status(400).send('Missing authorization code.');
  });
  
  app.listen(PORT, () => {
    console.log(`âœ¨ Le serveur sâ€™Ã©lÃ¨ve sur le port ${PORT} â€” prÃªt Ã  recevoir le souffle des visiteurs.`);
  });
  import express from 'express';
  import cors from 'cors';
  import dotenv from 'dotenv';
  dotenv.config();
  
  const app = express();
  const PORT = process.env.PORT || 3000;
  
  app.use(cors());
  app.use(express.json());
  app.use(express.static('public'));
  
  app.get('/callback', (req, res) => {
    const { code } = req.query;
    if (code) {
      // Ici, tu pourrais ajouter le flow dâ€™Ã©change du code OAuth pour un token dâ€™accÃ¨s
      // Mais pour lâ€™instant, simple redirection poÃ©tique :
      return res.redirect('https://dashboard.stripe.com');
    }
    res.status(400).send('Missing authorization code.');
  });
  
  app.listen(PORT, () => {
    console.log(`âœ¨ Le serveur sâ€™Ã©lÃ¨ve sur le port ${PORT} â€” prÃªt Ã  recevoir le souffle des visiteurs.`);
  });
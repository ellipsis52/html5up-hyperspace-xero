<!DOCTYPE HTML>
<html lang="en">
<head>
	<title>Hyperspace Xero Partner 2.0  Netmanagement.online</title>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" />
	<link rel="stylesheet" href="/html5up-hyperspace/assets/css/main.css" />
	<noscript><link rel="stylesheet" href="/html5up-hyperspace/assets/css/noscript.css" /></noscript>

	<style>
		#login-container {
			max-width: 400px;
			margin: 2rem auto;
			background: rgba(26,34,56,0.85);
			padding: 2rem;
			border-radius: 12px;
			box-shadow: 0 0 20px rgba(29,161,242,0.6);
			color: #e0e6f3;
			text-align: center;
		}
		#login-container a.button.primary {
			margin-top: 1rem;
			display: inline-block;
			background-color: #1da1f2;
			color: white;
			padding: 0.75rem 1.5rem;
			border-radius: 5px;
			text-decoration: none;
		}

		#change-password-section .table {
			display: table;
			position: absolute;
			height: 100%;
			width: 100%;
			background: linear-gradient(rgba(255,255,255,.3), rgba(255,255,255,0));
		}
		#change-password-section .cell {
			display: table-cell;
			vertical-align: middle;
		}
		#change-password-section .content {
			padding: 25px 0;
			margin: 0 auto;
			width: 280px;
		}
	</style>
</head>
<body class="is-preload">
	<script src="/html5up-hyperspace/assets/js/jquery.min.js"></script>
	<script src="/html5up-hyperspace/assets/js/jquery.scrollex.min.js"></script>
	<script src="/html5up-hyperspace/assets/js/jquery.scrolly.min.js"></script>
	<script src="/html5up-hyperspace/assets/js/browser.min.js"></script>
	<script src="/html5up-hyperspace/assets/js/breakpoints.min.js"></script>
	<script src="/html5up-hyperspace/assets/js/util.js"></script>
	<script src="/html5up-hyperspace/assets/js/main.js"></script>
	<script src="https://cdn.auth0.com/js/change-password-1.5.min.js"></script>

	<script>
		const authData = {
			email: localStorage.getItem("user_email"),
			csrf_token: localStorage.getItem("csrf_token"),
			ticket: localStorage.getItem("password_ticket"),
			password_policy: "low",
			password_complexity_options: { minLength: 8, maxLength: 128 }
		};

		window.addEventListener('DOMContentLoaded', function () {
			const params = new URLSearchParams(window.location.search);
			if (params.has("code") || params.has("access_token")) {
				fetch("/api/validate-auth0", {
					method: "POST",
					headers: { "Content-Type": "application/json" },
					body: JSON.stringify({ code: params.get("code") || params.get("access_token") })
				}).then(res => res.json()).then(data => {
					if (data.success) {
						window.location.href = "https://dashboard.stripe.com";
					} else {
						alert("Secure login failed.");
					}
				}).catch(() => alert("Server communication error."));
			}

			document.querySelectorAll('a.scrolly').forEach(link => {
				link.addEventListener('click', function(e) {
					if(this.getAttribute('href') === '#change-password-section') {
						e.preventDefault();
						document.getElementById('wrapper').style.display = 'none';
						document.getElementById('change-password-section').style.display = 'block';
						initChangePasswordWidget();
						window.scrollTo(0,0);
					}
				});
			});
		});

		function initChangePasswordWidget() {
			if(window.changePasswordWidgetInitialized) return;
			window.changePasswordWidgetInitialized = true;

			const changePasswordWidget = new ChangePasswordWidget({
				changePasswordWidgetUrl: "https://change-password.auth0.com/widget",
				logoutUrl: "https://auth0.net/logout",
				loginUrl: "https://auth0.net/login",
				callbackUrl: "https://dashboard.stripe.com",
				domain: "auth0.net",
				clientId: "qnLTr3RJKM9gHOFbhbUKmtkinOwKEfc4"
			});
			changePasswordWidget.render("#change-password-widget-container");
		}
	</script>
</body>
</html>